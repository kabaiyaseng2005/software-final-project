<!DOCTYPE html>
<html>
<head>
  <title>Login Form</title>
  <link rel="stylesheet" href="../css/login_signUp.css">
</head>
<body>

  <form>
    <h1>ຍິນດີຕ້ອນຮັບເຂົ້າສູ່ Hope Path</h1>
    <div class="login-container">
      <h2>ເຂົ້າສູ່ລະບົບ</h2>
      <div>
        <input type="text" id="username" name="username" placeholder="ຊື່ຜູ້ໃຊ້" required />
      </div>
      <div>
        <input type="password" id="password" name="password" placeholder="ລະຫັດຜ່ານ" required />
      </div>
      <div class="remember-me">
        <input type="checkbox" id="remember" name="remember" />
        <label for="remember">ຈື່ຂ້ອຍ</label>
      </div>
      <div>
        <button type="submit">ເຂົ້າສູ່ລະບົບ</button>
      </div>
      <div class="forgot-signup">
        <a href="#">ລຶມລະຫັດຜ່ານ?</a> |
        <a href="sign_up.html">ລົງຊື່ຜູ້ໃຊ້</a>
      </div>
    </div>
  </form>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const loginForm = document.querySelector("form");
      
      loginForm.addEventListener("submit", function (event) {
        event.preventDefault(); //stop form submiting
        const username = document.getElementById("username").value.trim();// trim() is use for move " "(space) before or after the username 
        const password = document.getElementById("password").value;
        const rememberMe = document.getElementById("remember").checked;
        
        if (username === "") {
          alert("Please enter your username");
          return;
        }
        
        if (password === "") {
          alert("Please enter your password");
          return;
        }
        

        // use for check the check box of rememberme ("true or false")
        if (rememberMe) {
          localStorage.setItem("rememberedUsername", username);
        } else {
          localStorage.removeItem("rememberedUsername");
        }
        //


        if (username === "admin" && password === "123") {
          sessionStorage.setItem("isLoggedIn", "true");
          window.location.href = "home.html";
        } else {
          alert("Invalid username or password");
        }
      });
      
      //if the rememberme box is true, save username and check box (true value) in localstroage.
      const rememberedUsername = localStorage.getItem("rememberedUsername");
      if (rememberedUsername) {
        document.getElementById("username").value = rememberedUsername;
        document.getElementById("remember").checked = true;
      }
    });
  </script>
</body>
</html>